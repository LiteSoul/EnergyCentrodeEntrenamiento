webpackJsonp([3],{270:function(e,t,a){function r(e){a(317)}var s=a(77)(a(289),a(323),r,"data-v-36bc03e8",null);e.exports=s.exports},289:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(78);t.default={firestore:function(){return{members:r.c.collection("members"),payments:r.c.collection("payments"),payerQuery:r.c.collection("payments").where("member","==",this.$route.params.id)}},data:function(){return{snackbar:!1,menu:!1,modal:!1,currentMember:{},membershipOptions:["Musculación","Crossfit","Boxeo","Kickboxing","Defensa Personal","GAP","Pase Libre","Medio Mes"],newPayment:{date:null,membership:"",cost:"",member:this.$route.params.id},memberPayments:[],headers:[{text:"Fecha",value:"date"},{text:"Membresía",value:"membership"},{text:"Monto",value:"cost"}],dialog:!1}},computed:{showSnapshot:function(){var e=this,t=this.$firestore.members.doc(this.$route.params.id);t.onSnapshot(function(t){e.currentMember=t.data()})},showPayments:function(){var e=this;this.$firestore.payerQuery.onSnapshot(function(t){t.docs.map(function(t){e.memberPayments.push(t.data())})},function(e){console.log(e)})}},methods:{addPayment:function(){this.$firestore.payments.add(this.newPayment),this.$validator.validateAll(),this.snackbar=!0,this.dialog=!1,this.$router.push("/storeusers")}}}},311:function(e,t,a){t=e.exports=a(263)(!0),t.push([e.i,".gender[data-v-36bc03e8]{font-size:22px}","",{version:3,sources:["H:/Development/Projects/git-work/EnergymVue/src/components/Member.vue"],names:[],mappings:"AACA,yBACC,cAAgB,CAChB",file:"Member.vue",sourcesContent:["\n.gender[data-v-36bc03e8] {\r\n\tfont-size: 22px;\n}\r\n"],sourceRoot:""}])},317:function(e,t,a){var r=a(311);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(264)("36e80898",r,!0)},323:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-card",[a("v-card-media",{attrs:{src:"../static/img/profile-placeholder.png",height:"200px"}}),e._v(" "),a("v-card-title",{attrs:{"primary-title":""}},[a("div",e._b({},"div",e.showSnapshot,!1),[a("h3",{staticClass:"headline mb-0"},[e._v(e._s(e.currentMember.lastname)+", "+e._s(e.currentMember.firstname)+"\n              "),a("span",["Hombre"===e.currentMember.gender?a("v-chip",{staticClass:"ml-0 gender",attrs:{small:"",color:"blue lighten-4"}},[e._v("\n                  ♂")]):a("v-chip",{staticClass:"ml-0 gender",attrs:{small:"",color:"red lighten-4"}},[e._v("\n                  ♀")])],1)]),e._v(" "),a("v-chip",{attrs:{color:"orange","text-color":"black"}},[a("v-icon",{attrs:{left:""}},[e._v("star")]),e._v("\n              "+e._s(e.currentMember.membership)+"\n            ")],1),e._v(" "),a("v-chip",{attrs:{color:"brown","text-color":"white"}},[a("v-icon",{attrs:{left:""}},[e._v("cake")]),e._v("\n              "+e._s(e.currentMember.birth.day)+"/"+e._s(e.currentMember.birth.month)+"/"+e._s(e.currentMember.birth.year)+"\n            ")],1),e._v(" "),a("v-chip",{attrs:{color:"green","text-color":"white"}},[a("v-icon",{attrs:{left:""}},[e._v("phone")]),e._v("\n              "+e._s(e.currentMember.phone)+"      \n            ")],1),e._v(" "),a("v-chip",{attrs:{color:"red","text-color":"white"}},[a("v-icon",{attrs:{left:""}},[e._v("email")]),e._v("\n              "+e._s(e.currentMember.email)+"      \n            ")],1)],1)])],1),e._v(" "),a("br"),e._v(" "),a("v-data-table",e._b({staticClass:"elevation-1",attrs:{headers:e.headers,items:e.memberPayments,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.date))]),e._v(" "),a("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.membership))]),e._v(" "),a("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.cost))])]}}])},"v-data-table",e.showPayments,!1)),e._v(" "),a("br"),e._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-btn",{attrs:{slot:"activator",color:"indigo",dark:""},slot:"activator"},[e._v("Agregar Pago")]),e._v(" "),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Agregar Nuevo Pago")])]),e._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs11:"",sm5:""}},[a("v-dialog",{attrs:{persistent:"",lazy:"","full-width":""},model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[a("v-text-field",{attrs:{slot:"activator",label:"Mes de Pago","prepend-icon":"event",readonly:""},slot:"activator",model:{value:e.newPayment.date,callback:function(t){e.$set(e.newPayment,"date",t)},expression:"newPayment.date"}}),e._v(" "),a("v-date-picker",{attrs:{type:"month",locale:"es-sp",scrollable:"",actions:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.save,s=t.cancel;return[a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:s}},[e._v("Cancel")]),e._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:r}},[e._v("OK")])],1)]}}]),model:{value:e.newPayment.date,callback:function(t){e.$set(e.newPayment,"date",t)},expression:"newPayment.date"}})],1)],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:e.membershipOptions,label:"Membresía","error-messages":e.errors.collect("membership"),"data-vv-name":"membership",required:""},model:{value:e.newPayment.membership,callback:function(t){e.$set(e.newPayment,"membership",t)},expression:"newPayment.membership"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-slider",{attrs:{color:"indigo",label:"Monto",hint:"Cantidad en pesos",min:"200",max:"800","thumb-label":"",step:"50",snap:""},model:{value:e.newPayment.cost,callback:function(t){e.$set(e.newPayment,"cost",t)},expression:"newPayment.cost"}})],1)],1)],1)],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){e.dialog=!1}}},[e._v("Cancelar")]),e._v(" "),a("v-btn",{attrs:{color:"indigo",dark:""},on:{click:e.addPayment}},[e._v("Confirmar Pago")])],1)],1)],1),e._v(" "),a("v-snackbar",{attrs:{timeout:5e3,top:"",mode:"vertical"},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("El pago ha sido confirmado\n      \t"),a("v-btn",{attrs:{flat:"",color:"pink"},nativeOn:{click:function(t){e.snackbar=!1}}},[e._v("\n        Cerrar")])],1),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br")],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=3.262df3ea164386696b45.js.map